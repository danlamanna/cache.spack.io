---
layout: default
---

<h1 class="pb-2">
    <a href="{{ site.baseurl }}" class="btn btn-ghost btn-square btn-sm">
        <i class="ri-arrow-left-line text-xl"></i>
    </a>
    {{ page.title }}
</h1>

<div class="alert bg-primary text-white">
    {% assign emojis = "‚≠êÔ∏è,üéâÔ∏è,ü§ìÔ∏è,üòÑÔ∏è,‚ú®Ô∏è,üíõÔ∏è" | split: ',' %}
    {% assign emoji = emojis | sample: 2 %}

    <div>
        This package has <strong>{{ page.spec_names | size }}</strong> specs in the build cache! {{ emoji[0] }}
    </div>
    <div class="flex-none">
        <a href="https://packages.spack.io/package.html?name={{ page.title }}" class="btn btn-secondary btn-sm gap-1">{{ page.title }} <small class="font-light">on packages.spack.io</small></a>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-coy.min.css" rel="stylesheet" type="text/css">

<script type="text/javascript">
function formatBytes(bytes,decimals) {
   if (bytes == 0) {
       return '0 Bytes';
   }
   var k = 1024,
       dm = decimals || 2,
       sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],
       i = Math.floor(Math.log(bytes) / Math.log(k));
   return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
}
</script>

<div class="container py-8">

    <a class="button reset filter-reset btn btn-secondary btn-sm mt-2 float-right" onclick="$('#cache').DataTable().search('').draw()" href="#">reset</a></li>

<table id="cache" class="table w-full">
    <thead>
        <tr>
            <th>Hash</th>
            <th>Versions</th>
            <th>Compilers</th>
            <th>Arches</th>
            <th>Variants</th>
            <th>Stacks</th>
            <th>Size</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for spec_name in page.spec_names %}
        <tr>
            <td class="font-mono">
                {{ page.spec_details[forloop.index0].hash }}
            </td>
            <td>
                {% for v in page.spec_details[forloop.index0].versions %}<button
                    class="tag button badge badge-neutral mr-[2px]">{{ v }}</button>{% endfor %}
            </td>
            <td>
                <button class="tag button badge badge-neutral mr-[2px]">{{ page.spec_details[forloop.index0].compiler }}</button>
            </td>
            <td>
                <button class="tag button badge badge-neutral mr-[2px]">{{ page.spec_details[forloop.index0].architecture }}</button>
            </td>
            <td class="whitespace-normal leading-6">
                {% for v in page.spec_details[forloop.index0].variants %}<button
                    class="tag button badge badge-neutral mr-[2px]">{{ v }}</button>{% endfor %}
            </td>
            <td class="whitespace-normal leading-6">
                {% for s in page.spec_details[forloop.index0].stacks %}<button
                    class="tag button badge badge-neutral mr-[2px]">{{ s }}</button>{% endfor %}
            </td>
            <td>
                <span class="filesize">{{ page.spec_details[forloop.index0].size }}</span>
            </td>
            <td>
                <div class="flex">
                    <div class="tooltip" data-tip="View Raw Spec">
                        <a href="" class="btn btn-circle btn-sm btn-ghost">
                            <i class="ri-eye-fill text-xl text-neutral"></i>
                        </a>
                    </div>
                    <div class="tooltip" data-tip="Download Tarball">
                        <a href="{{ page.spec_details[forloop.index0].tarball }}" class="btn btn-circle btn-sm btn-ghost">
                            <i class="ri-file-zip-fill text-xl text-neutral"></i>
                        </a>
                    </div>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>


</div>

{% include footer.html %}

<script>
// Allow searching titles of entries
$(document).ready(function() {
    $('#cache').DataTable({
        pageLength: 50,
        "drawCallback": function () {
            $('.dataTables_filter').addClass('flex md:justify-end');
            $('.dataTables_filter label').addClass('flex items-center gap-2 pr-2');
            $('.dataTables_filter .form-control').addClass('input input-sm');
            $('.dataTables_length label').addClass('flex items-center gap-2');
            $('.dataTables_length select').addClass('select select-sm');
            $('.dataTables_paginate').addClass('flex md:justify-end');
            $('.pagination').addClass('btn-group');
            $('.paginate_button').addClass('btn btn-xs btn-ghost rounded-none');
            $('.paginate_button.previous').addClass('btn btn-xs rounded-r-none rounded-l');
            $('.paginate_button.next').addClass('btn btn-xs rounded-l-none rounded-r');
            $('.paginate_button.disabled').addClass('btn btn-xs btn-disabled');
        },
    });

    $('#cache button.tag').click(function() {
       var filter = $(this).text();
       $('#cache').DataTable().search(filter).draw();
    });

    $('span.filesize').each(function() {
       var size = $(this).text();
       $(this).text(formatBytes(size));
    });
});    
</script>

<script src='https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js'></script>
<script src='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.js'></script>
<script src='https://cdn.datatables.net/responsive/1.0.4/js/dataTables.responsive.js'></script>
